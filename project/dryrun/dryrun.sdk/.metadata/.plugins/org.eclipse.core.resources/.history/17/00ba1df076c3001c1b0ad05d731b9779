#ifndef MICROMETAL_UTILITIES_H
#define MICROMETAL_UTILITIES_H

#include "xparameters.h"
#include "motorEncoder.h"
#include "motorPwm.h"
#include "pid.h"

#define MICROMETAL_FORWARD TRUE
#define MICROMETAL_REVERSE FALSE

/* MICROMETAL MOTORS SHARED DEFINITIONS */
#define MGM0_PWM_PERIOD             9995
#define MGM_PWM_MIN                 0
#define MGM_PWM_SCALE               39
#define MGM_GEAR_RATIO              1000
#define MGM_RESOLUTION              12

/* MICROMETAL MOTOR 0 DEFINITIONS */
#define MGM0_PWM_BASEADDR           XPAR_MOTORPWM_1_S00_AXI_BASEADDR
#define MGM0_QEI_BASEADDR           XPAR_MOTORENCODER_1_S00_AXI_BASEADDR

/* MICROMETAL MOTOR 1 DEFINITIONS */
#define MGM1_PWM_BASEADDR           XPAR_MOTORPWM_2_S00_AXI_BASEADDR
#define MGM1_QEI_BASEADDR           XPAR_MOTORENCODER_2_S00_AXI_BASEADDR

/* Micrometal Motor Struct */
typedef struct{
	ugv_qei       *qei;
	ugv_pwm       *pwm;
	PIDController *pid;
};


#endif
